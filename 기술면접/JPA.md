# QnA

## JPA

### 1. Entity

- 실제 데이터베이스의 테이블과 1대1로 맵핑되는 클래스

### 2. N+1 문제

- 1번의 쿼리를 날렸을 때 의도하지 않은 N번의 쿼리가 추가적으로 실행되는 것을 의미한다.
- Lazy로딩에 의해 한번에 모든 정보를 가져오지 않아서 발생하는 문제, 패치 조인을 사용해서 해결할 수 있다

### 3. JPA 영속성 컨텍스트의 이점

- 영속성 컨텍스트는 엔티티를 영구 저장하는 환경을 의미합니다
- 1차캐시 : 조회가 가능하며, 1차캐시에 없으면 DB에서 조회하여 1차캐시에 올려놓습니다.
- 동일성 보장 : 동일성 비교가 가능합니다.(==)
- 쓰기 지연 : 트랜잭션을 지원하는 쓰기지연이 가능하며, 트랜잭션을 커밋하기 전까지 SQL을 바로 보내지 않고 모아서 보낼수 있습니다.
- 변경감지 : 스냅샷을 1차캐시에 들어온 데이터를 찍습니다. 커밋되는 시점에 Entity와 스냅샷을 비교하여 update SQL을 생성합니다.
- 지연로딩 : Entity에서 해당 Entity를 불러올때 SQL을 날려 해당 데이터를 가져옵니다.
